<!DOCTYPE html>

<html>
	<head>
		<title>
			InfluxViz Page Builder
		</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

	  	<meta name="influxDBCredentials" content="databaseIP: 162.243.57.240; port: 8086; database: home-sensor-array; username: root; password: root;">
		
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="assets/css/styles-default.css">
	</head>

	<body>
		<div id="wrapper">
			<div id="sidebar-container">
				<ul id="sidebar-page-nav" class="sidebar-nav">
				</ul>
				
			</div>

			<div id="title-header">
				<span></span>
			</div>

			<div id="page-container" class="container-fluid">
			</div>
		</div>

		<!-- scripts -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="assets/js/Blob.min.js"></script>
		<script type="text/javascript" src="assets/js/FileSaver.min.js"></script>
		<script type="text/javascript" src="assets/js/justGage.1.0.1/resources/js/raphael.2.1.0.min.js"></script>
		<script type="text/javascript" src="assets/js/justGage.1.0.1/resources/js/justgage.1.0.1.min.js"></script>


		<script type="text/javascript" src="assets/js/influx-dashboard.js"></script>	
		<script type="text/javascript" src="assets/js/influxDBGaugeManager.js"></script>

		<script type="text/javascript">
			var checkSidebarRetract = function() {
				if($(window).width() < 700)
				{
					$("#wrapper").css({"padding-left":"0"});
				}
				else
				{
					$("#wrapper").css({"padding-left":"250px"});
				}
			};
			
			var testDashboard = {
				title: "Title of dashbaord",
				pages: [{
					id: "test-page1",
					title: "do fun shit1",

					contents: [{
						height: 400,

						widgets: [{
							id: "testgauge1",
							header: "toast toastage",
							cells: 4,
							classes: "",
							task: {
								html: "html code1",
								js: {
									selectors: {
										d3: "d3.select(widgetPH)",
										jquery: "$(widgetPH)",
										DOM: "document.getElementById(widgetPH)"
									},

									functions: [function(e){
										e.jquery.click(function(){
											alert("HELLO");
										})
									}]
								}
							}
						},{
							id: "testgauge2",
							header: "room temp",
							cells: 3,
							classes: "gauge",
							task: {
								html: "<meta content=\"influxValue: temp; influxTimeSeries: temp-sensor; min: -60; max: 80; title: Room Temperature Celcius;\">",
								js: {
									selectors: {
										d3: "d3.select(widgetPH)",
										jquery: "$(widgetPH)",
										DOM: "document.getElementById(widgetPH)"
									},

									functions: []
								}
							}
						}]
					}]
				},{
					id: "test-page2",
					title: "do fun shit2",

					contents: [{
						height: 200,

						widgets: [{
							id: "testgauge3",
							header: "room temp",
							cells: 3,
							classes: "",
							task: {
								html: "html code2",
								js: {
									selectors: {
										d3: "d3.select(widgetPH)",
										jquery: "$(widgetPH)",
										DOM: "document.getElementById(widgetPH)"
									},

									functions: []
								}
							}
						},{
							id: "testgauge4",
							header: "toast toastage",
							cells: 4,
							classes: "",
							task: {
								html: "html code and stuff",
								js: {
									selectors: {
										d3: "d3.select(widgetPH)",
										jquery: "$(widgetPH)",
										DOM: "document.getElementById(widgetPH)"
									},

									functions: []
								}
							}
						}]
					}]
				}]
			}

			$(document).ready(function() {
				checkSidebarRetract();
				
				$(window).resize(function(){
					checkSidebarRetract();
				});


				var db = new InfluxDashboard(testDashboard);
				var gaugeManager = new InfluxDBGaugeManager(2000);
				
			});
		</script>


		


	</body>


</html>